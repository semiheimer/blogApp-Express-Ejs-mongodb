{%- include('../partials/incHeader') %}

<main class="container">
    <div class="row g-5">
        <div class="col-md-12 p-3">
            <a class="btn btn-sm btn-secondary" href="/posts">Go Back</a>
            <h1 class="text-center">{%= post?.title %}</h1>
            <form action="" method="POST">
                <table class="table table-striped">
                    {% if(operation=="update") { %}
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th># {%= post?.id %}</th>
                        </tr>
                    </thead>
                    {% }%}
                    <tbody>
                        <tr>
                            <td>Category</td>
                            <td>
                                <select name="blogCategoryId" class="form-select">
                                    {% for (let category of categories) { %}
                                    <option value="{%= category.id %}" {%=(category.id==post?.blogCategoryId.id
                                        ? 'selected' : '' ) %}>{%= category.name %}</option>
                                    {% } %}
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td>Title</td>
                            <td><input type="text" name="title" required class="form-control"
                                    value="{%= post?.title %}"></td>
                        </tr>
                        <tr>
                            <td>Content</td>
                            <td>
                                <textarea name="content" class="form-control" rows="12">{%= post?.content %}</textarea>
                            </td>
                        </tr>
                        <tr>
                            <td>Published</td>
                            <td>
                                <select name="published" class="form-select">
                                    <option value="0" {%=(post?.isPublished ? '' : 'selected' ) %}>No</option>
                                    <option value="1" {%=(post?.isPublished ? 'selected' : '' ) %}>Yes</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td>Created</td>
                            <td>{%= post?.createdAt.toUTCString() %}</td>
                        </tr>
                    </tbody>
                </table>
                <p>

                <div class="d-flex flex-row-reverse">
                    <button class="btn btn-primary" type="submit">{%= operation=="update"?"Update":"Create" %}</button>
                </div>
                </p>
            </form>
        </div>
    </div>
</main>
<!-- main end -->

{%- include('../partials/incFooter') %}